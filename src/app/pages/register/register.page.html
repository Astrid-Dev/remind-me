<ion-backdrop *ngIf="isProcessing"></ion-backdrop>

<ion-content>

  <header class="header bg-primary">
    <h1>Inscription</h1>
  </header>
  <div class="content ion-padding">
    <ion-title color="primary font-bold">Commençons !</ion-title>
    <form [formGroup]="registerForm" (ngSubmit)="onFormSubmit()">
      <ion-item mode="ios" color="light">
        <ion-label mode="ios" position="floating">Pseudo</ion-label>
        <ion-input formControlName="pseudo" placeholder="Votre pseudo"></ion-input>

        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('pseudo', 'required')">
          Le pseudo est requis !
        </ion-note>
        <ion-note class="error ion-padding" *ngIf="formIsSubmitted && validationHasFailedFor('pseudo', 'minlenght')">
          Le pseudo doit avoir au moins 3 caractères !
        </ion-note>
        <ion-note class="error ion-padding" *ngIf="formIsSubmitted && validationHasFailedFor('pseudo', 'maxlength')">
          Le pseudo doit avoir au plus 20 caractères !
        </ion-note>
      </ion-item>
      <ion-item mode="ios" color="light">
        <ion-label mode="ios" position="floating">Email</ion-label>
        <ion-input formControlName="email" type="email" placeholder="Votre adresse e-mail"></ion-input>

        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('email', 'required')">
          L'adresse email est requise !
        </ion-note>
        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('email', 'email')">
          L'adresse email est invalide !
        </ion-note>
        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('email', 'maxlength')">
          L'adresse email doit avoir au plus 100 caractères !
        </ion-note>
      </ion-item>
      <ion-item mode="ios" color="light">
        <ion-label mode="ios" position="floating">Mot de passe</ion-label>
        <ion-input formControlName="password" type="password" placeholder="Votre mot de passe"></ion-input>

        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('password', 'required')">
          Le mot de passe est requis !
        </ion-note>
        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('password', 'minlength')">
          Le mot de passe doit avoir au moins 6 caractères !
        </ion-note>
        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('password', 'maxlength')">
          Le mot de passe doit avoir au plus 20 caractères !
        </ion-note>
      </ion-item>
<!--      <ion-item mode="ios" color="light">-->
<!--        <ion-label mode="ios" position="floating">Confirmer mot de passe</ion-label>-->
<!--        <ion-input formControlName="confirm_password" type="password" placeholder="Mot de passe de confirmation"></ion-input>-->

<!--        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('confirm_password', 'required')">-->
<!--          Le mot de passe de confirmation est requis !-->
<!--        </ion-note>-->
<!--        <ion-note slot="error" *ngIf="formIsSubmitted && validationHasFailedFor('confirm_password', 'confirmedValidator')">-->
<!--          Les deux mots de passe ne correspondent pas !-->
<!--        </ion-note>-->
<!--      </ion-item>-->

      <ion-button *ngIf="!isProcessing" class="submit-button" type="submit" mode="ios" expand="block" shape="round">S'inscrire</ion-button>
      <ion-button *ngIf="isProcessing" [disabled]="true" class="submit-button" mode="ios" expand="block" shape="round">
        <ion-spinner mode="ios"></ion-spinner>
      </ion-button>

      <div class="ion-margin-top others-options">
        <div>
          <ion-text>Ou s'inscrire avec </ion-text>
          <div class="providers">
            <ion-button (click)="registerWithGoogle()" mode="ios" fill="clear">
              <ion-icon size="large" src="assets/images/icons8-google.svg"></ion-icon>
            </ion-button>
            <ion-button (click)="registerWithFacebook()" mode="ios" fill="clear">
              <ion-icon size="large" src="assets/images/icons8-facebook.svg"></ion-icon>
            </ion-button>
            <ion-button (click)="registerWithTwitter()" mode="ios" fill="clear">
              <ion-icon size="large" src="assets/images/icons8-twitter.svg"></ion-icon>
            </ion-button>
          </div>
        </div>

      </div>
    </form>
  </div>
  <footer class="footer bg-primary">
    <div class="ion-padding">
      <span>Vous avez déjà un compte ?</span> <a routerLink="/login"> Connectez-vous !</a>
    </div>
  </footer>

</ion-content>
